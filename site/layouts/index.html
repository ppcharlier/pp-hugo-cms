{{ define "main" }}

{{ partial "jumbotron" (dict "imageUrl" "/img/blog-index.svg" "title" .Title "subtitle" .Params.subtitle) }}

<div class="mw7 center">
  {{/* Get all posts, sort by date descending, then by episode number descending for consistent ordering */}}
  {{ $posts := where .Site.RegularPages "Type" "post" }}
  {{ $posts = sort $posts ".Params.episode" "desc" }}
  {{ $posts = sort $posts ".Date" "desc" }}
  <ul id="blog-list" class="flex-ns flex-wrap mhn1-ns pa3">
      {{ range (.Paginate $posts 4).Pages }}
          <li class="w-50-ns ph1-ns flex">
            {{ .Render "li"}}
          </li>
      {{ end }}
  </ul>
  {{ partial "pagination" . }}
</div>

{{ end }}
